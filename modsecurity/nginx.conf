events {}
http {
    server {
        listen 80;
        # 加载ModSecurity配置
        modsecurity on;
        modsecurity_rules_file /etc/nginx/modsecurity.conf;

        # 将所有请求转发到数据库（注意：这是为了模拟，真实世界会转发到Web应用）
        location / {
            # 实际中这里会是 proxy_pass http://webapp;
            # 为了实验简化，我们直接返回一个消息，并通过WAF日志观察攻击是否被拦截
            return 200 "Request processed through WAF.";
        }
    }
}